const CONFIG={whatsapp:{number:"573007377368",messages:{visit:"Hola, me interesa agendar una visita a sus instalaciones",contact:"Hola, me interesa conocer más sobre sus servicios logísticos",quote:"Hola, me gustaría solicitar una cotización para servicios logísticos"}},maps:{center:{lat:6.2442,lng:-75.5812},zoom:15},animation:{observerOptions:{threshold:.1,rootMargin:"0px 0px -50px 0px"}}},elements={header:document.getElementById("header"),heroSection:document.getElementById("hero"),navLinks:document.querySelectorAll('a[href^="#"]'),whatsappButtons:document.querySelectorAll(".btn--whatsapp"),videoPlayButton:document.querySelector(".video-container__play-btn"),mapContainer:document.getElementById("map"),observableElements:document.querySelectorAll("section, .service-card, .pillar")},utils={debounce:(e,t)=>{let o;return function(...n){clearTimeout(o),o=setTimeout(()=>{clearTimeout(o),e(...n)},t)}},throttle:(e,t)=>{let o,n;return function(...r){n?(clearTimeout(o),o=setTimeout(()=>{Date.now()-n>=t&&(e.apply(this,r),n=Date.now())},t-(Date.now()-n))):(e.apply(this,r),n=Date.now())}},isInViewport:e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},generateWhatsAppURL:e=>{const t=encodeURIComponent(e);return`https://wa.me/${CONFIG.whatsapp.number}?text=${t}`}},headerScrollHandler=()=>{const{header:e}=elements;if(!e)return;const t=utils.throttle(()=>{const t=window.scrollY>100;e.classList.toggle("scrolled",t)},100);window.addEventListener("scroll",t)},smoothScrolling=()=>{elements.navLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("href"),n=document.querySelector(o);if(n){const e=elements.header?.offsetHeight||70,t=n.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"})}})})},animationObserver=()=>{if(!window.IntersectionObserver)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("fade-in-up"),e.unobserve(t.target))})},CONFIG.animation.observerOptions);elements.observableElements.forEach(t=>{e.observe(t)})},whatsappIntegration=()=>{elements.whatsappButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o="contact";e.closest(".hero")?o="visit":e.closest(".footer")&&(o="contact");const n=CONFIG.whatsapp.messages[o],r=utils.generateWhatsAppURL(n);window.open(r,"_blank","noopener,noreferrer"),"undefined"!=typeof gtag&&gtag("event","whatsapp_click",{event_category:"engagement",event_label:o})})})},videoPlayerHandler=()=>{elements.videoPlayButton&&elements.videoPlayButton.addEventListener("click",()=>{alert("Video player functionality - In production, this would open the warehouse tour video")})},googleMapsIntegration=()=>{if(!elements.mapContainer)return;const e=()=>{const e=new google.maps.Map(elements.mapContainer,{zoom:CONFIG.maps.zoom,center:CONFIG.maps.center,styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]}]});new google.maps.Marker({position:CONFIG.maps.center,map:e,title:"C4 Logística y Transporte",icon:{url:"src/images/map-marker.svg",scaledSize:new google.maps.Size(40,40)}});const t=new google.maps.InfoWindow({content:'\n        <div style="padding: 10px;">\n          <h3 style="margin: 0 0 10px 0; color: #1E3A8A;">C4 Logística y Transporte</h3>\n          <p style="margin: 0; color: #6B7280;">Km. 5 Autopista Medellín-Bogotá</p>\n          <p style="margin: 5px 0 0 0;">\n            <a href="tel:+573007377368" style="color: #00B04A; text-decoration: none;">\n              📞 300 7377368\n            </a>\n          </p>\n        </div>\n      '}),o=new google.maps.Marker({position:CONFIG.maps.center,map:e});o.addListener("click",()=>{t.open(e,o)})};if("undefined"==typeof google||void 0===google.maps){const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap",t.async=!0,t.defer=!0,window.initMap=e,document.head.appendChild(t)}else e()},formValidation=()=>{document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();const o=new FormData(e),n=Object.fromEntries(o.entries());if(!n.name||!n.email||!n.message)return void alert("Por favor, complete todos los campos obligatorios.");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?(console.log("Form submitted:",n),alert("Mensaje enviado correctamente. Nos pondremos en contacto pronto.")):alert("Por favor, ingrese un email válido.")})})},lazyLoadImages=()=>{if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const o=t.target;o.dataset.src&&(o.src=o.dataset.src,o.classList.remove("lazy"),e.unobserve(o))}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}},performanceMonitoring=()=>{"PerformanceObserver"in window&&(new PerformanceObserver(e=>{const t=e.getEntries(),o=t[t.length-1];console.log("LCP:",o.startTime)}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{console.log("FID:",e.processingStart-e.startTime)})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(e=>{let t=0;e.getEntries().forEach(e=>{e.hadRecentInput||(t+=e.value)}),console.log("CLS:",t)}).observe({entryTypes:["layout-shift"]}))},errorHandling=()=>{window.addEventListener("error",e=>{console.error("JavaScript Error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason)})},registerServiceWorker=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})})},init=()=>{headerScrollHandler(),smoothScrolling(),animationObserver(),whatsappIntegration(),videoPlayerHandler(),lazyLoadImages(),formValidation(),setTimeout(googleMapsIntegration,1e3),performanceMonitoring(),errorHandling(),setTimeout(registerServiceWorker,2e3),console.log("C4 Logística - Application initialized successfully")};document.addEventListener("DOMContentLoaded",init),"undefined"!=typeof module&&module.exports&&(module.exports={init:init,utils:utils,CONFIG:CONFIG});